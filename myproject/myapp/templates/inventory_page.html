<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Page</title>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>

    {% if is_admin %}
    {% include 'components/admin_navbar.html' %}
    {% elif role == 'researcher' and researcher %}
    {% include 'components/researcher_navbar.html' %}
    {% elif role == 'program_coordinator' and coordinator %}
    {% include 'components/coordinator_navbar.html' %}
    {% else %}
    {% include 'components/student_navbar.html' %}
    {% endif %}
    
<div class="container mt-5">
    <h2 class="mb-3">Welcome to Inventory Page , {{ user.username }}!</h2>
    <p class="mb-3">Take a look at your liked and bookmarked research papers below.</p>
    <hr class="my-4">

    
    <div class="btn-group mb-4" role="group">
        <a href="{% url 'inventory_page' %}?view=all" 
           class="btn {% if active_view == 'all' %}btn-dark{% else %}btn-outline-dark{% endif %}">All</a>
           
        <a href="{% url 'inventory_page' %}?view=likes" 
           class="btn {% if active_view == 'likes' %}btn-success{% else %}btn-outline-success{% endif %}">Liked Papers</a>
           
        <a href="{% url 'inventory_page' %}?view=bookmarks" 
           class="btn {% if active_view == 'bookmarks' %}btn-primary{% else %}btn-outline-primary{% endif %}">Bookmarked Papers</a>
    </div>

  {% if active_view == 'all' or active_view == 'likes' %}
    <h3 class="text-success mb-4">Liked Papers</h3>
    <div class="row row-cols-1 row-cols-md-3 g-4 mb-5">
        {% for paper in liked_papers %}
            <div class="col">
                <div class="card shadow-sm border-0">
                    <div style="height: 160px; background: #eee;">
                         <img height="170px" src="https://i1.rgstatic.net/publication/378963846_A_Study_on_Video_Thumbnails_Design_Attributes_and_Their_Influence_to_the_Outcome_of_the_Video/links/65f32d9a286738732d4790a6/largepreview.png" class="card-img-top" alt="Cover">
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">{{ paper.paper_title }}</h5>
                        <p class="card-text text-muted small">{{ paper.paper_desc|truncatewords:20 }}</p>
                    </div>
                    <div class="card-footer bg-transparent border-0">
                        <a href="{% url 'view_research_paper' paper.paper_id %}" class="btn btn-success btn-sm w-100">View</a>
                    </div>
                </div>
            </div>
        {% empty %}
            <div class="col-12">
                <p class="text-muted">No liked papers found.</p>
            </div>
        {% endfor %}
    </div>
{% endif %}

{% if active_view == 'all' or active_view == 'bookmarks' %}
    <h3 class="text-primary mb-4">Bookmarked Papers</h3>
    <div class="row row-cols-1 row-cols-md-3 g-4 mb-5">
        {% for paper in bookmarked_papers %}
            <div class="col">
                <div class="card shadow-sm border-0">
                    <div style="height: 160px; background: #eee;">
                         <img height="200px" src="https://i1.rgstatic.net/publication/378963846_A_Study_on_Video_Thumbnails_Design_Attributes_and_Their_Influence_to_the_Outcome_of_the_Video/links/65f32d9a286738732d4790a6/largepreview.png" class="card-img-top" alt="Cover">
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">{{ paper.paper_title }}</h5>
                        <p class="card-text text-muted small">{{ paper.paper_desc|truncatewords:20 }}</p>
                    </div>
                    <div class="card-footer bg-transparent border-0">
                        <a href="{% url 'view_research_paper' paper.paper_id %}" class="btn btn-primary btn-sm w-100">View</a>
                    </div>
                </div>
            </div>
        {% empty %}
            <div class="col-12">
                <p class="text-muted">No bookmarked papers found.</p>
            </div>  
        {% endfor %}
    </div>
{% endif %}

</div>

{% include 'components/footer.html' %}



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
</body>
</html>